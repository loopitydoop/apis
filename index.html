<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>APIs</title>
</head>
<body>
<p>Click button to get your coordinates (don't worry I'm not actually storing your location anywhere)</p>

<button onclick="getLocation()">Get Location</button>

<p id="demo1"></p>

<script>
    const x = document.getElementById("demo1");

    function getLocation() {
        try {
        navigator.geolocation.getCurrentPosition(showPosition);
        } catch(err) {
        x.innerHTML = err;
        }
    }

    function showPosition(position) {
        x.innerHTML = "Latitude: " + position.coords.latitude +
        "<br>Longitude: " + position.coords.longitude;
    }
</script>

<p id="demo2"></p>
<button onclick="getLocation2()">Get Location2</button>

<script>
    const y = document.getElementById("demo2");

    function getLocation2() {
        navigator.geolocation.getCurrentPosition(showPosition2, showError2);
    }

    function showPosition2(geolocationPositionObject) {
        y.innerHTML = "geolocationPosition Object: " + geolocationPositionObject.toString() + "<br>" +
        "Latitude: " + geolocationPositionObject.coords.latitude.toString() + "<br>" +
        "Longitude: " + geolocationPositionObject.coords.longitude.toString() + "<br>" +
        "Timestamp: " + geolocationPositionObject.timestamp.toString() + "<br>";
    }

    function showError2() {
        y.innerHTML = "Hey, you're supposed to give Location Access for this to work properly!";
    }
</script>

<p>ok if it's updated you should see this4</p>

<p id="demo3"></p>
<button onclick="getLocation3()">Get Location3</button>

<script>
    /* this is an example of how not to use the geolocation API's getCurrentPosition() method.
    You MUST use a callback function, not just try to add on more properties after the method */
    function getLocation3() {
        document.getElementById("demo3").innerHTML = navigator.geolocation.getCurrentPosition().coords.latitude.toString();
    }
</script>

<p id="demo4"></p>
<button onclick="getLocation4()">Get Location4</button>

<script>
    function passthrough(input) {
        return input;
    }

    /* and this is a test to see if you can put a sort of pass-through function as the callback function
     so that you can add on more properties after the getCurrentPosition() method*/

    function getLocation4() {
        document.getElementById("demo4").innerHTML = navigator.geolocation.getCurrentPosition(passthrough).coords.latitude.toString();
    }

    /* the passthrough function doesn't seem to work. I think you should just use callback functions like normal people, okay? */
</script>

<p id="demo5">update8</p>
<button onclick="overwriteDemo5Text()">Find the weather in a given location</button>

<script>
    const demo5Ref = document.getElementById("demo5");

    /* these functions serve to get a geolocationPositionObjection from navigator.geolocation.getCurrentPosition() */

    function overwriteDemo5Text() {
        demo5Ref.innerHTML = "testing one two three";
    }

    function getLocation5() {
        geolocationPositionObject = navigator.geolocation.getCurrentPosition(passthrough, showError5);
        demo5Ref.innerHTML = "test text because I am desperate";
    }

    function passthrough(input) {
        return input;
    }

    function showError5() {
        demo5Ref.innerHTML = "Hey, you're supposed to give Location Access for this to work properly!";
    }

    /* this is a test function to display the geolocationPostionObject */
    function displayThing(string) {
        demo5Ref.innerHTML = string.toString();
    }

    function getCurrentWeather() {
        currentWeather = https://api.openweathermap.org/data/2.5/weather?lat={lat}&lon={lon}&appid=a3ce82c07921df5ff8127fc77507be4d;
        return currentWeather;
    }
</script>

<p>test2</p>
<p id="demo6">test to see if text can be overwritten</p>
<button onclick="displayThing2(testFunction())">Test to see if displayer function works</button>

<script>
    const demo6Text = document.getElementById("demo6");

    function displayThing2(string) {
        demo6Text.innerHTML = string;
    }

    function testFunction() {
        string = "yes, text can be overwritten";
        return string;
    }
</script>


</body>
</html>